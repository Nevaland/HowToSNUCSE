# Commit
Commit은, 어떠한 한 시점에서의 git repository의 상태, 또는 그러한 상태를 남기는 것을 말합니다.
Git을 다룰 때 가장 핵심이 되는 개념이므로, 확실하게 알아두는 것이 유리합니다.

각 커밋에는, *커밋 해시* 라는 고유번호가 붙게 됩니다.
이 문서를 작성하는 시점에서 가장 최근의 커밋 해시는 `b83a75c`입니다.
실제로는 훨씬 더 길지만, 편의를 위해 축약해서 부르는 것이 대부분입니다.
많은 경우에, 각 커밋은 이 커밋 해시로 구분합니다.
커밋 해시는 `git log --oneline`를 실행함으로써 확인할 수 있습니다.

우리가 `git commit` 을 실행할 때, git은 현재 staged 상태에 있는(index에 등록되어있는) 파일들을 따로 저장해두게 됩니다. Staged 상태에 있지 않았던 파일들은, 이전 커밋에서 가져올 수 있도록 만들어집니다. 따라서, 커밋들은 각각 이전 커밋들을 가리키게 만들어집니다.

예를 들어, 커밋 `aaaaaaa` 에서 `a.txt`, `b.txt` 라는 파일을 새로 등록했다고 합시다.
이 커밋에서는 새로 등록된 파일들의 내용들을 저장해놓게 됩니다.  
다음에, 커밋 `aaaaaab` 에서 `b.txt`의 내용을 수정했다고 합시다. 
`b.txt`는 수정되어 stage 된 이후 커밋되었을 것이므로 커밋 `aaaaaab`에서는 새로운 `b.txt`의 내용을 가지고 있습니다. 
그러나, `a.txt`의 내용은 수정되지 않았으므로, 따로 저장해놓고 있을 필요가 없습니다. 
대신, 커밋 `aaaaaab`는 커밋 `aaaaaaa`의 `a.txt`의 내용을 가져와 사용할 수 있습니다.
이런 방식을 통해, 실제로 파일 전부를 저장해놓고 있지 않더라도 각 커밋에 대해서 그 당시의 폴더와 파일들을 완벽하게 복원해낼 수 있습니다.

```
┌───────┐
│aaaaaaa│ - a.txt, b.txt
└───────┘     ^
    │         │
┌───────┐     │
│aaaaaab│ - _____, b.txt
└───────┘
    │
    …
```
이런 식으로, 연결 리스트 처럼 부모 커밋들을 끝없이 가리키고 있는 형태가 git repository에서 가장 기본적인 형태가 됩니다.
이후 branch나 rebase를 통해 이 형태가 여러 다양한 형태로 변경될 수 있습니다.